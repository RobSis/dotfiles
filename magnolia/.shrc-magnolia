# Magnolia related stuff

alias license='cat ~/.mag-license | xclip -i'

alias START='touch ./bin/.installed; JAVA_OPTS="-Dmagnolia.update.auto=true" ./bin/magnolia_control.sh start --ignore-open-files-limit && tail -f logs/catalina.out'
alias STARTwithPublic='rm -f ./bin/.installed; JAVA_OPTS="-Dmagnolia.update.auto=true" ./bin/magnolia_control.sh start --ignore-open-files-limit && tail -f logs/catalina.out'

#alias mvn='mvn-color'
alias MVN='mvn clean install ; notify-send -u critical FINISHED'
alias MVNfast='mvn clean install -DskipTests -Dcheckstyle.skip ; notify-send -u critical FINISHED'
alias MVNrun='mvn org.apache.tomcat.maven:tomcat7-maven-plugin:run-war'

# example: re-port conf/server.xml 2 -> changes port to 28080
re-port()
{
    tmpfile=/tmp/report$RANDOM;
    cat "${1}" | sed "s/\([Pp]\)ort=\"/\1ort=\"${2}/g" > $tmpfile
    cp -f $tmpfile "${1}"
}
